<!DOCTYPE html>
<html lang="en">
  <head>
    <title> slider switch </title>
    <meta charset="utf-8">

    <link href="styles/sliderswitch.css" rel="stylesheet" type="text/css">    
    <script src="scripts/create_element.js"></script>

    <style>
    </style>
  </head>
  
  <body onLoad="initStuff()">
    <div class="test"></div>

    
    <script>
      function initStuff() {
        var container = document.getElementsByClassName('test')[0];
        container.appendChild(_createSliderSwitch('on', 'off', '', switchHandler));
        container.appendChild(_createSliderSwitch('choice 1', 'choice 2', '', switchHandler, true));
      }
      
      function switchHandler(e) {
        console.log('beep');
      }
      
  function _createSliderSwitch(dataOnLabel, dataOffLabel, addedClassList, handler, useTwoChoice) {
    var classList = 'switch';
    if (useTwoChoice) {
      classList += ' switch-two-choice';
    } else {
      classList += ' switch-yes-no';
    }
    if (addedClassList != '') classList += ' ' + addedClassList;
    var container = CreateElement._createElement('label', null, classList);
    
    
    var elemCheckbox = CreateElement._createElement('input', null, 'switch-input');
    elemCheckbox.type = 'checkbox';
    container.appendChild(elemCheckbox);
    if (handler) elemCheckbox.addEventListener('click', e => handler(e));
    
    var elemDataSpan = CreateElement.createSpan(null, 'switch-label');
    container.appendChild(elemDataSpan);
    elemDataSpan.setAttribute('data-on', dataOnLabel);
    elemDataSpan.setAttribute('data-off', dataOffLabel);
    
    container.appendChild(CreateElement.createSpan(null, 'switch-handle'));
    return container;
  }

  function _getSliderSwitchValue(elem) {
    var elemInput = elem.getElementsByClassName('switch-input')[0];    
    return elemInput.checked;
  }

  function _setSliderSwitchValue(elem, checked) {
    var elemInput = elem.getElementsByClassName('switch-input')[0];
    elemInput.checked = checked;
  }      
    </script>
  </body>
</html>